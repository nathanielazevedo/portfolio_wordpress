!function(){class e{constructor(e){var t;e&&null!=e&&null!==(t=e.dataset)&&void 0!==t&&t.videoId&&(this.element=e,this.videoId=this.element.dataset.videoId,this.init())}init(){this.element.addEventListener("click",(()=>{var e,t,i;if(this.element.classList.contains("is-activated"))return void this.playIframe();this.element.classList.add("is-activated");const n=new URLSearchParams(null!==(e=null===(t=this.element)||void 0===t||null===(i=t.dataset)||void 0===i?void 0:i.params)&&void 0!==e?e:[]);if(n.append("autoplay","1"),n.append("playsinline","1"),navigator.vendor.includes("Apple")||navigator.userAgent.includes("Mobi"))this.playVideo(Object.fromEntries(n.entries()));else{var o,a,l;const e=document.createElement("iframe");e.width=560,e.height=315,e.title=null!==(o=null===(a=this.element)||void 0===a||null===(l=a.dataset)||void 0===l?void 0:l.title)&&void 0!==o?o:"Play",e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",e.allowFullscreen=!0,e.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${n.toString()}`,this.element.append(e),e.focus()}}))}playIframe(){const e=this.element.querySelector("iframe");e&&e.contentWindow&&e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}async playVideo(e){this.loadYTAPI(),await this.ytApiPromise;const t=document.createElement("div");this.element.append(t);const i=this.videoId;new YT.Player(t,{width:"100%",videoId:i,playerVars:e,events:{onReady:e=>e.target.playVideo()}})}loadYTAPI(){var e,t;null!==(e=window)&&void 0!==e&&null!==(t=e.YT)&&void 0!==t&&t.Player||(this.ytApiPromise=new Promise(((e,t)=>{var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",i.async=!0,i.onload=()=>{YT.ready(e)},i.onerror=t,this.element.append(i)})))}}window.addEventListener("DOMContentLoaded",(function(){const t=document.querySelectorAll(".wp-block-boldblocks-youtube-block .yb-player");t&&t.length&&t.forEach((t=>new e(t)))}))}();